

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Tools &mdash; FFPyPlayer  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Images" href="pic.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> FFPyPlayer
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="api.html">The FFPyPlayer API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="player.html">Player</a></li>
<li class="toctree-l2"><a class="reference internal" href="writer.html">Writer</a></li>
<li class="toctree-l2"><a class="reference internal" href="pic.html">Images</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-ffpyplayer.tools"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ffpyplayer.tools</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ffmpeg-tools">FFmpeg tools</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">FFPyPlayer</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="api.html">The FFPyPlayer API</a> &raquo;</li>
        
      <li>Tools</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/tools.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="tools">
<span id="tools-api"></span><h1>Tools<a class="headerlink" href="#tools" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-ffpyplayer.tools">
<span id="ffpyplayer-tools"></span><h2><a class="reference internal" href="#module-ffpyplayer.tools" title="ffpyplayer.tools"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ffpyplayer.tools</span></code></a><a class="headerlink" href="#module-ffpyplayer.tools" title="Permalink to this headline">¶</a></h2>
<div class="section" id="ffmpeg-tools">
<h3>FFmpeg tools<a class="headerlink" href="#ffmpeg-tools" title="Permalink to this headline">¶</a></h3>
<p>Module for manipulating and finding information of FFmpeg formats, codecs,
devices, pixel formats and more.</p>
<dl class="function">
<dt id="ffpyplayer.tools.initialize_sdl_aud">
<code class="sig-prename descclassname">ffpyplayer.tools.</code><code class="sig-name descname">initialize_sdl_aud</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ffpyplayer.tools.initialize_sdl_aud" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes sdl audio subsystem. Must be called before audio can be used.
It is automatically called by the modules that use SDL audio.</p>
</dd></dl>

<dl class="function">
<dt id="ffpyplayer.tools.set_log_callback">
<code class="sig-prename descclassname">ffpyplayer.tools.</code><code class="sig-name descname">set_log_callback</code><span class="sig-paren">(</span><em class="sig-param">callback=None</em>, <em class="sig-param">logger=None</em>, <em class="sig-param">int default_only=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ffpyplayer.tools.set_log_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a callback to be used by ffmpeg when emitting logs.
This function is thread safe.</p>
<p>See also <a class="reference internal" href="#ffpyplayer.tools.set_loglevel" title="ffpyplayer.tools.set_loglevel"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_loglevel()</span></code></a>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><cite>callback</cite>: callable or None</dt><dd><p>A function which will be called with strings to be printed. It takes
two parameters: <code class="docutils literal notranslate"><span class="pre">message</span></code> and <code class="docutils literal notranslate"><span class="pre">level</span></code>. <code class="docutils literal notranslate"><span class="pre">message</span></code> is the string
to be printed. <code class="docutils literal notranslate"><span class="pre">level</span></code> is the log level of the string and is one
of the keys of the <a class="reference internal" href="#ffpyplayer.tools.loglevels" title="ffpyplayer.tools.loglevels"><code class="xref py py-attr docutils literal notranslate"><span class="pre">loglevels</span></code></a> dict. If <code class="docutils literal notranslate"><span class="pre">callback</span></code> and <code class="docutils literal notranslate"><span class="pre">logger</span></code>
are None, the default ffmpeg log callback will be set, which prints to stderr.
Defaults to None.</p>
</dd>
<dt><cite>logger</cite>: a python logger object or None</dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">callback</span></code> is None and this is not None, this logger object’s
<code class="docutils literal notranslate"><span class="pre">critical</span></code>, <code class="docutils literal notranslate"><span class="pre">error</span></code>, <code class="docutils literal notranslate"><span class="pre">warning</span></code>, <code class="docutils literal notranslate"><span class="pre">info</span></code>, <code class="docutils literal notranslate"><span class="pre">debug</span></code>, and <code class="docutils literal notranslate"><span class="pre">trace</span></code>
methods will be called directly to forward ffmpeg’s log outputs.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the logger doesn’t have a trace method, the trace output will be
redirected to debug. However, the trace level outputs a lot of logs.</p>
</div>
</dd>
<dt><cite>default_only</cite>: bool</dt><dd><p>If True, when <code class="docutils literal notranslate"><span class="pre">callback</span></code> or <code class="docutils literal notranslate"><span class="pre">logger</span></code> are not <code class="docutils literal notranslate"><span class="pre">None</span></code>, they
will only be set if a callback or logger has not already been set.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The previous callback set (None, if it has not been set).</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ffpyplayer.tools</span> <span class="kn">import</span> <span class="n">set_log_callback</span><span class="p">,</span> <span class="n">loglevels</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">loglevel_emit</span> <span class="o">=</span> <span class="s1">&#39;error&#39;</span> <span class="c1"># This and worse errors will be emitted.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">log_callback</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">level</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">message</span> <span class="o">=</span> <span class="n">message</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">message</span> <span class="ow">and</span> <span class="n">loglevels</span><span class="p">[</span><span class="n">level</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">loglevels</span><span class="p">[</span><span class="n">loglevel_emit</span><span class="p">]:</span>
<span class="gp">... </span>        <span class="nb">print</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">level</span><span class="p">,</span> <span class="n">message</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">set_log_callback</span><span class="p">(</span><span class="n">log_callback</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">set_log_callback</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="ffpyplayer.tools.get_log_callback">
<code class="sig-prename descclassname">ffpyplayer.tools.</code><code class="sig-name descname">get_log_callback</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ffpyplayer.tools.get_log_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the last log callback set, or None if it has not been set.
See <a class="reference internal" href="#ffpyplayer.tools.set_log_callback" title="ffpyplayer.tools.set_log_callback"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_log_callback()</span></code></a>.</p>
</dd></dl>

<dl class="function">
<dt id="ffpyplayer.tools.set_loglevel">
<code class="sig-prename descclassname">ffpyplayer.tools.</code><code class="sig-name descname">set_loglevel</code><span class="sig-paren">(</span><em class="sig-param">loglevel</em><span class="sig-paren">)</span><a class="headerlink" href="#ffpyplayer.tools.set_loglevel" title="Permalink to this definition">¶</a></dt>
<dd><p>This sets the global FFmpeg log level. less important log levels are filtered
and not passsed on to the logger or callback set by <a class="reference internal" href="#ffpyplayer.tools.set_log_callback" title="ffpyplayer.tools.set_log_callback"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_log_callback()</span></code></a>.
It also set the loglevel of FFmpeg if not callback or logger is set.</p>
<p>The global log level, if not set, defaults to <code class="docutils literal notranslate"><span class="pre">'warning'</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><cite>loglevel</cite>: str</dt><dd><p>The log level. Can be one of the keys of <a class="reference internal" href="#ffpyplayer.tools.loglevels" title="ffpyplayer.tools.loglevels"><code class="xref py py-attr docutils literal notranslate"><span class="pre">loglevels</span></code></a>.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ffpyplayer.tools.get_loglevel">
<code class="sig-prename descclassname">ffpyplayer.tools.</code><code class="sig-name descname">get_loglevel</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ffpyplayer.tools.get_loglevel" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the log level set with <a class="reference internal" href="#ffpyplayer.tools.set_loglevel" title="ffpyplayer.tools.set_loglevel"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_loglevel()</span></code></a>, or the default level if not
set. It is one of the keys of <a class="reference internal" href="#ffpyplayer.tools.loglevels" title="ffpyplayer.tools.loglevels"><code class="xref py py-attr docutils literal notranslate"><span class="pre">loglevels</span></code></a>.</p>
</dd></dl>

<dl class="function">
<dt id="ffpyplayer.tools.get_codecs">
<code class="sig-prename descclassname">ffpyplayer.tools.</code><code class="sig-name descname">get_codecs</code><span class="sig-paren">(</span><em class="sig-param">int encode=False</em>, <em class="sig-param">int decode=False</em>, <em class="sig-param">int video=False</em>, <em class="sig-param">int audio=False</em>, <em class="sig-param">int data=False</em>, <em class="sig-param">int subtitle=False</em>, <em class="sig-param">int attachment=False</em>, <em class="sig-param">other=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ffpyplayer.tools.get_codecs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of codecs (e.g. h264) that is available by ffpyplayer for
encoding or decoding and matches the media types, e.g. video or audio.</p>
<p>The parameters determine which codecs is included in the result. The parameters
all default to False.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><cite>encode</cite>: bool</dt><dd><p>If True, includes the encoding codecs in the result. Defaults to False.</p>
</dd>
<dt><cite>decode</cite>: bool</dt><dd><p>If True, includes the decoding codecs in the result. Defaults to False.</p>
</dd>
<dt><cite>video</cite>: bool</dt><dd><p>If True, includes the video codecs in the result. Defaults to False.</p>
</dd>
<dt><cite>audio</cite>: bool</dt><dd><p>If True, includes the audio codecs in the result. Defaults to False.</p>
</dd>
<dt><cite>data</cite>: bool</dt><dd><p>If True, includes the (continuous) side data codecs in the result. Defaults to False.</p>
</dd>
<dt><cite>subtitle</cite>: bool</dt><dd><p>If True, includes the subtitle codecs in the result. Defaults to False.</p>
</dd>
<dt><cite>attachment</cite>: bool</dt><dd><p>If True, includes the (sparse) data attachment codecs in the result. Defaults to False.</p>
</dd>
<dt><cite>other</cite>: bool</dt><dd><p>If True, returns all the codec media types.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A sorted list of the matching codec names.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ffpyplayer.tools.get_fmts">
<code class="sig-prename descclassname">ffpyplayer.tools.</code><code class="sig-name descname">get_fmts</code><span class="sig-paren">(</span><em class="sig-param">int input=False</em>, <em class="sig-param">int output=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ffpyplayer.tools.get_fmts" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the formats available in FFmpeg.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><cite>input</cite>: bool</dt><dd><p>If True, also includes input formats in the result. Defaults to False</p>
</dd>
<dt><cite>output</cite>: bool</dt><dd><p>If True, also includes output formats in the result. Defaults to False</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>A 3-tuple of 3 lists, <code class="docutils literal notranslate"><span class="pre">formats</span></code>, <code class="docutils literal notranslate"><span class="pre">full_names</span></code>, and <code class="docutils literal notranslate"><span class="pre">extensions</span></code>.
Each of the three lists are of identical length.</p>
<dl class="simple">
<dt><cite>formats</cite>: list</dt><dd><p>A list of the names of the formats.</p>
</dd>
<dt><cite>full_names</cite>: list</dt><dd><p>A list of the corresponding human readable names for each of the
formats. Can be the empty string if none is available.</p>
</dd>
<dt><cite>extensions</cite>: list</dt><dd><p>A list of the extensions associated with the corresponding formats.
Each item is a (possibly empty) list of extensions names.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ffpyplayer.tools.get_format_codec">
<code class="sig-prename descclassname">ffpyplayer.tools.</code><code class="sig-name descname">get_format_codec</code><span class="sig-paren">(</span><em class="sig-param">filename=None</em>, <em class="sig-param">fmt=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ffpyplayer.tools.get_format_codec" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the best codec associated with the file format. The format
can be provided using either <code class="docutils literal notranslate"><span class="pre">filename</span></code> or <code class="docutils literal notranslate"><span class="pre">fmt</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><cite>filename</cite>: str or None</dt><dd><p>The output filename. If provided, the extension of the filename
is used to guess the format.</p>
</dd>
<dt><cite>fmt</cite>: str or None.</dt><dd><p>The format to use. Can be one of <a class="reference internal" href="#ffpyplayer.tools.formats_out" title="ffpyplayer.tools.formats_out"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ffpyplayer.tools.formats_out</span></code></a>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>str:</dt><dd><p>The name from <a class="reference internal" href="#ffpyplayer.tools.codecs_enc" title="ffpyplayer.tools.codecs_enc"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ffpyplayer.tools.codecs_enc</span></code></a>
of the best codec that can be used with this format.</p>
</dd>
</dl>
</p>
</dd>
</dl>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_format_codecs</span><span class="p">(</span><span class="s1">&#39;test.png&#39;</span><span class="p">)</span>
<span class="go">&#39;mjpeg&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_format_codecs</span><span class="p">(</span><span class="s1">&#39;test.jpg&#39;</span><span class="p">)</span>
<span class="go">&#39;mjpeg&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_format_codecs</span><span class="p">(</span><span class="s1">&#39;test.mkv&#39;</span><span class="p">)</span>
<span class="go">&#39;libx264&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_format_codecs</span><span class="p">(</span><span class="n">fmt</span><span class="o">=</span><span class="s1">&#39;h264&#39;</span><span class="p">)</span>
<span class="go">&#39;libx264&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="ffpyplayer.tools.get_supported_framerates">
<code class="sig-prename descclassname">ffpyplayer.tools.</code><code class="sig-name descname">get_supported_framerates</code><span class="sig-paren">(</span><em class="sig-param">codec_name</em>, <em class="sig-param">rate=()</em><span class="sig-paren">)</span><a class="headerlink" href="#ffpyplayer.tools.get_supported_framerates" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the supported frame rates for encoding codecs. If a desired rate is
provided, it also returns the closest valid rate.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><cite>codec_name</cite>: str</dt><dd><p>The name of a encoding codec.</p>
</dd>
<dt><cite>rate</cite>: 2-tuple of ints, or empty tuple.</dt><dd><p>If provided, a 2-tuple where the first element is the numerator,
and the second the denominator of the frame rate we wish to use. E.g.
(2997, 100) means a frame rate of 29.97.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>(list of 2-tuples, or empty list):</dt><dd><p>If there are no restrictions on the frame rate (i.e. all rates are valid)
it returns a empty list, otherwise it returns a list with the valid
frame rates. If <cite>rate</cite> is provided and there are restrictions on the frame
rates, the closest frame rate is the zero’th element in the list.</p>
</dd>
</dl>
</p>
</dd>
</dl>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">get_supported_framerates</span><span class="p">(</span><span class="s1">&#39;mpeg1video&#39;</span><span class="p">)</span>
<span class="go">[(24000, 1001), (24, 1), (25, 1), (30000, 1001), (30, 1), (50, 1),</span>
<span class="go">(60000, 1001), (60, 1), (15, 1), (5, 1), (10, 1), (12, 1), (15, 1)]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">get_supported_framerates</span><span class="p">(</span><span class="s1">&#39;mpeg1video&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">2997</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="go">[(30000, 1001), (24000, 1001), (24, 1), (25, 1), (30, 1), (50, 1),</span>
<span class="go">(60000, 1001), (60, 1), (15, 1), (5, 1), (10, 1), (12, 1), (15, 1)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="ffpyplayer.tools.get_supported_pixfmts">
<code class="sig-prename descclassname">ffpyplayer.tools.</code><code class="sig-name descname">get_supported_pixfmts</code><span class="sig-paren">(</span><em class="sig-param">codec_name</em>, <em class="sig-param">pix_fmt=u''</em><span class="sig-paren">)</span><a class="headerlink" href="#ffpyplayer.tools.get_supported_pixfmts" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the supported pixel formats for encoding codecs. If a desired format
is provided, it also returns the closest format (i.e. the format with minimum
conversion loss).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><cite>codec_name</cite>: str</dt><dd><p>The name of a encoding codec.</p>
</dd>
<dt><cite>pix_fmt</cite>: str</dt><dd><p>If not empty, the name of a pixel format we wish to use with this codec,
e.g. ‘rgb24’.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>(list of pixel formats, or empty list):</dt><dd><p>If there are no restrictions on the pixel formats (i.e. all the formats
are valid) it returns a empty list, otherwise it returns a list with the
valid formats. If pix_fmt is not empty and there are restrictions to the
formats, the closest format which results in the minimum loss when converting
will be returned as the zero’th element in the list.</p>
</dd>
</dl>
</p>
</dd>
</dl>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">get_supported_pixfmts</span><span class="p">(</span><span class="s1">&#39;ffv1&#39;</span><span class="p">)</span>
<span class="go">[&#39;yuv420p&#39;, &#39;yuva420p&#39;, &#39;yuva422p&#39;, &#39;yuv444p&#39;, &#39;yuva444p&#39;, &#39;yuv440p&#39;, ...</span>
<span class="go">&#39;gray16le&#39;, &#39;gray&#39;, &#39;gbrp9le&#39;, &#39;gbrp10le&#39;, &#39;gbrp12le&#39;, &#39;gbrp14le&#39;]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">get_supported_pixfmts</span><span class="p">(</span><span class="s1">&#39;ffv1&#39;</span><span class="p">,</span> <span class="s1">&#39;gray&#39;</span><span class="p">)</span>
<span class="go">[&#39;gray&#39;, &#39;yuv420p&#39;, &#39;yuva420p&#39;, &#39;yuva422p&#39;, &#39;yuv444p&#39;, &#39;yuva444p&#39;, ...</span>
<span class="go">&#39;gray16le&#39;, &#39;gbrp9le&#39;, &#39;gbrp10le&#39;, &#39;gbrp12le&#39;, &#39;gbrp14le&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="ffpyplayer.tools.get_best_pix_fmt">
<code class="sig-prename descclassname">ffpyplayer.tools.</code><code class="sig-name descname">get_best_pix_fmt</code><span class="sig-paren">(</span><em class="sig-param">pix_fmt</em>, <em class="sig-param">pix_fmts</em><span class="sig-paren">)</span><a class="headerlink" href="#ffpyplayer.tools.get_best_pix_fmt" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the best pixel format with the least conversion loss from the
original pixel format, given a list of potential pixel formats.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><cite>pix_fmt</cite>: str</dt><dd><p>The name of a original pixel format.</p>
</dd>
<dt><cite>pix_fmts</cite>: list-type of strings</dt><dd><p>A list of possible pixel formats from which the best will be chosen.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The pixel format with the least conversion loss.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The returned pixel format seems to be somewhat sensitive to the order
of the input pixel formats. Higher quality pixel formats should therefore
be at the beginning of the list.</p>
</div>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_best_pix_fmt</span><span class="p">(</span><span class="s1">&#39;yuv420p&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;rgb24&#39;</span><span class="p">,</span> <span class="s1">&#39;rgba&#39;</span><span class="p">,</span> <span class="s1">&#39;yuv444p&#39;</span><span class="p">,</span> <span class="s1">&#39;gray&#39;</span><span class="p">])</span>
<span class="go">&#39;rgb24&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_best_pix_fmt</span><span class="p">(</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;rgb24&#39;</span><span class="p">,</span> <span class="s1">&#39;rgba&#39;</span><span class="p">,</span> <span class="s1">&#39;yuv444p&#39;</span><span class="p">,</span> <span class="s1">&#39;gray&#39;</span><span class="p">])</span>
<span class="go">&#39;gray&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_best_pix_fmt</span><span class="p">(</span><span class="s1">&#39;rgb8&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;rgb24&#39;</span><span class="p">,</span> <span class="s1">&#39;yuv420p&#39;</span><span class="p">,</span> <span class="s1">&#39;rgba&#39;</span><span class="p">,</span> <span class="s1">&#39;yuv444p&#39;</span><span class="p">,</span> <span class="s1">&#39;gray&#39;</span><span class="p">])</span>
<span class="go">&#39;rgb24&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="ffpyplayer.tools.emit_library_info">
<code class="sig-prename descclassname">ffpyplayer.tools.</code><code class="sig-name descname">emit_library_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ffpyplayer.tools.emit_library_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints to the ffmpeg log all the ffmpeg library’s versions and configure
options.</p>
</dd></dl>

<dl class="function">
<dt id="ffpyplayer.tools.list_dshow_devices">
<code class="sig-prename descclassname">ffpyplayer.tools.</code><code class="sig-name descname">list_dshow_devices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ffpyplayer.tools.list_dshow_devices" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the dshow devices available.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><cite>3-tuple</cite>: A 3-tuple, of (<cite>video</cite>, <cite>audio</cite>, <cite>names</cite>)</p>
<blockquote>
<div><dl class="simple">
<dt><cite>video</cite>: dict</dt><dd><p>A dict of all the direct show <strong>video</strong> devices. The keys
of the dict are the unique names of the available direct show devices. The values
are a list of the available configurations for that device. Each
element in the list has the following format:
<code class="docutils literal notranslate"><span class="pre">(pix_fmt,</span> <span class="pre">codec_fmt,</span> <span class="pre">(frame_width,</span> <span class="pre">frame_height),</span> <span class="pre">(min_framerate,</span> <span class="pre">max_framerate))</span></code></p>
</dd>
<dt><cite>audio</cite>: dict</dt><dd><p>A dict of all the direct show <strong>audio</strong> devices. The keys
of the dict are the unique names of the available direct show devices. The values
are a list of the available configurations for that device. Each
element in the list has the following format:
<code class="docutils literal notranslate"><span class="pre">((min_num_channels,</span> <span class="pre">min_num_channels),</span> <span class="pre">(min_bits,</span> <span class="pre">max_bits),</span> <span class="pre">(min_rate,</span> <span class="pre">max_rate))</span></code>.</p>
</dd>
<dt><cite>names</cite>: dict</dt><dd><p>A dict mapping the unique names of the video and audio devices to
a more human friendly (possibly non-unique) name. Either of these
names can be used when opening the device. However, if using the non-unique
name, it’s not guarenteed which of the devices sharing the name will be opened.</p>
</dd>
</dl>
</div></blockquote>
</p>
</dd>
</dl>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ffpyplayer.player</span> <span class="kn">import</span> <span class="n">MediaPlayer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ffpyplayer.tools</span> <span class="kn">import</span> <span class="n">list_dshow_devices</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">time</span><span class="o">,</span> <span class="nn">weakref</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dev</span> <span class="o">=</span> <span class="n">list_dshow_devices</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">dev</span>
<span class="go">({&#39;@device_pnp_...223196\global&#39;: [(&#39;bgr24&#39;, &#39;&#39;, (160, 120), (5, 30)),</span>
<span class="go">(&#39;bgr24&#39;, &#39;&#39;, (176, 144), (5, 30)), (&#39;bgr24&#39;, &#39;&#39;, (320, 176), (5, 30)),</span>
<span class="go">(&#39;bgr24&#39;, &#39;&#39;, (320, 240), (5, 30)), (&#39;bgr24&#39;, &#39;&#39;, (352, 288), (5, 30)),</span>
<span class="gp">...</span>
<span class="go">(&#39;yuv420p&#39;, &#39;&#39;, (320, 240), (5, 30)), (&#39;yuv420p&#39;, &#39;&#39;, (352, 288), (5, 30))],</span>
<span class="go">&#39;@device_pnp_...223196\global&#39;: [(&#39;bgr24&#39;, &#39;&#39;, (160, 120), (30, 30)),</span>
<span class="gp">...</span>
<span class="go">(&#39;yuyv422&#39;, &#39;&#39;, (352, 288), (30, 30)),</span>
<span class="go">(&#39;yuyv422&#39;, &#39;&#39;, (640, 480), (30, 30))]},</span>
<span class="go">{&#39;@device_cm_...2- HD Webcam C615)&#39;: [((1, 2), (8, 16), (11025, 44100))],</span>
<span class="go">&#39;@device_cm_...HD Webcam C615)&#39;: [((1, 2), (8, 16), (11025, 44100))]},</span>
<span class="go">{&#39;@device_cm_...- HD Webcam C615)&#39;: &#39;Microphone (2- HD Webcam C615)&#39;,</span>
<span class="go"> &#39;@device_cm_...2- HD Webcam C615)&#39;: &#39;Microphone (3- HD Webcam C615)&#39;,</span>
<span class="gp">...</span>
<span class="go"> &#39;@device_pnp...223196\global&#39;: &#39;HD Webcam C615&#39;,</span>
<span class="go"> &#39;@device_pnp...223196\global&#39;: &#39;Laptop Integrated Webcam&#39;})</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="examples.html#dshow-example"><span class="std std-ref">Playing a webcam with DirectShow on windows</span></a> for a full example.</p>
</dd></dl>

<dl class="function">
<dt id="ffpyplayer.tools.encode_to_bytes">
<code class="sig-prename descclassname">ffpyplayer.tools.</code><code class="sig-name descname">encode_to_bytes</code><span class="sig-paren">(</span><em class="sig-param">item</em><span class="sig-paren">)</span><a class="headerlink" href="#ffpyplayer.tools.encode_to_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes the item and walks it recursively whether it’s a string, int, iterable,
etc. and encodes all the strings to utf-8.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><cite>item</cite>: anything</dt><dd><p>The object to be walked and encoded.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An object identical to the <code class="docutils literal notranslate"><span class="pre">item</span></code>, but with all strings encoded to utf-8.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ffpyplayer.tools.decode_to_unicode">
<code class="sig-prename descclassname">ffpyplayer.tools.</code><code class="sig-name descname">decode_to_unicode</code><span class="sig-paren">(</span><em class="sig-param">item</em><span class="sig-paren">)</span><a class="headerlink" href="#ffpyplayer.tools.decode_to_unicode" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes the item and walks it recursively whether it’s a string, int, iterable,
etc. and encodes all the strings to utf-8.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><cite>item</cite>: anything</dt><dd><p>The object to be walked and encoded.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An object identical to the <code class="docutils literal notranslate"><span class="pre">item</span></code>, but with all strings encoded to utf-8.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ffpyplayer.tools.convert_to_str">
<code class="sig-prename descclassname">ffpyplayer.tools.</code><code class="sig-name descname">convert_to_str</code><span class="sig-paren">(</span><em class="sig-param">item</em><span class="sig-paren">)</span><a class="headerlink" href="#ffpyplayer.tools.convert_to_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes the item and walks it recursively whether it’s a string, int, iterable,
etc. and encodes all the strings to utf-8.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><cite>item</cite>: anything</dt><dd><p>The object to be walked and encoded.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An object identical to the <code class="docutils literal notranslate"><span class="pre">item</span></code>, but with all strings encoded to utf-8.</p>
</dd>
</dl>
</dd></dl>

</div>
<dl class="attribute">
<dt id="ffpyplayer.tools.loglevels">
<code class="sig-prename descclassname">tools.</code><code class="sig-name descname">loglevels</code><em class="property"> = {'debug': 48, 'error': 16, 'fatal': 8, 'info': 32, 'panic': 0, 'quiet': -8, 'trace': 56, 'verbose': 40, 'warning': 24}</em><a class="headerlink" href="#ffpyplayer.tools.loglevels" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary with all the available ffmpeg log levels. The keys are the loglevels
and the values are their ffmpeg values. The lower the value, the more important
the log. Note, this is ooposite python where the higher the level the more important
the log.</p>
</dd></dl>

<dl class="attribute">
<dt id="ffpyplayer.tools.codecs_enc">
<code class="sig-prename descclassname">tools.</code><code class="sig-name descname">codecs_enc</code><em class="property"> = []</em><a class="headerlink" href="#ffpyplayer.tools.codecs_enc" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of all the codecs available for encoding video.</p>
</dd></dl>

<dl class="attribute">
<dt id="ffpyplayer.tools.codecs_dec">
<code class="sig-prename descclassname">tools.</code><code class="sig-name descname">codecs_dec</code><em class="property"> = []</em><a class="headerlink" href="#ffpyplayer.tools.codecs_dec" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of all the codecs available for decoding video and audio.</p>
</dd></dl>

<dl class="attribute">
<dt id="ffpyplayer.tools.pix_fmts">
<code class="sig-prename descclassname">tools.</code><code class="sig-name descname">pix_fmts</code><em class="property"> = ['0bgr', '0rgb', 'abgr', 'argb', 'ayuv64be', 'ayuv64le', 'bayer_bggr16be', 'bayer_bggr16le', 'bayer_bggr8', 'bayer_gbrg16be', 'bayer_gbrg16le', 'bayer_gbrg8', 'bayer_grbg16be', 'bayer_grbg16le', 'bayer_grbg8', 'bayer_rggb16be', 'bayer_rggb16le', 'bayer_rggb8', 'bgr0', 'bgr24', 'bgr4', 'bgr444be', 'bgr444le', 'bgr48be', 'bgr48le', 'bgr4_byte', 'bgr555be', 'bgr555le', 'bgr565be', 'bgr565le', 'bgr8', 'bgra', 'bgra64be', 'bgra64le', 'cuda', 'd3d11', 'd3d11va_vld', 'drm_prime', 'dxva2_vld', 'gbrap', 'gbrap10be', 'gbrap10le', 'gbrap12be', 'gbrap12le', 'gbrap16be', 'gbrap16le', 'gbrapf32be', 'gbrapf32le', 'gbrp', 'gbrp10be', 'gbrp10le', 'gbrp12be', 'gbrp12le', 'gbrp14be', 'gbrp14le', 'gbrp16be', 'gbrp16le', 'gbrp9be', 'gbrp9le', 'gbrpf32be', 'gbrpf32le', 'gray', 'gray10be', 'gray10le', 'gray12be', 'gray12le', 'gray16be', 'gray16le', 'gray9be', 'gray9le', 'mediacodec', 'mmal', 'monob', 'monow', 'nv12', 'nv16', 'nv20be', 'nv20le', 'nv21', 'p010be', 'p010le', 'p016be', 'p016le', 'pal8', 'qsv', 'rgb0', 'rgb24', 'rgb4', 'rgb444be', 'rgb444le', 'rgb48be', 'rgb48le', 'rgb4_byte', 'rgb555be', 'rgb555le', 'rgb565be', 'rgb565le', 'rgb8', 'rgba', 'rgba64be', 'rgba64le', 'uyvy422', 'uyyvyy411', 'vaapi_idct', 'vaapi_moco', 'vaapi_vld', 'vda', 'vda_vld', 'vdpau', 'vdpau_h264', 'vdpau_mpeg1', 'vdpau_mpeg2', 'vdpau_mpeg4', 'vdpau_vc1', 'vdpau_wmv3', 'videotoolbox_vld', 'xvmcidct', 'xvmcmc', 'xyz12be', 'xyz12le', 'ya16be', 'ya16le', 'ya8', 'yuv410p', 'yuv411p', 'yuv420p', 'yuv420p10be', 'yuv420p10le', 'yuv420p12be', 'yuv420p12le', 'yuv420p14be', 'yuv420p14le', 'yuv420p16be', 'yuv420p16le', 'yuv420p9be', 'yuv420p9le', 'yuv422p', 'yuv422p10be', 'yuv422p10le', 'yuv422p12be', 'yuv422p12le', 'yuv422p14be', 'yuv422p14le', 'yuv422p16be', 'yuv422p16le', 'yuv422p9be', 'yuv422p9le', 'yuv440p', 'yuv440p10be', 'yuv440p10le', 'yuv440p12be', 'yuv440p12le', 'yuv444p', 'yuv444p10be', 'yuv444p10le', 'yuv444p12be', 'yuv444p12le', 'yuv444p14be', 'yuv444p14le', 'yuv444p16be', 'yuv444p16le', 'yuv444p9be', 'yuv444p9le', 'yuva420p', 'yuva420p10be', 'yuva420p10le', 'yuva420p16be', 'yuva420p16le', 'yuva420p9be', 'yuva420p9le', 'yuva422p', 'yuva422p10be', 'yuva422p10le', 'yuva422p16be', 'yuva422p16le', 'yuva422p9be', 'yuva422p9le', 'yuva444p', 'yuva444p10be', 'yuva444p10le', 'yuva444p16be', 'yuva444p16le', 'yuva444p9be', 'yuva444p9le', 'yuvj411p', 'yuvj420p', 'yuvj422p', 'yuvj440p', 'yuvj444p', 'yuyv422', 'yvyu422']</em><a class="headerlink" href="#ffpyplayer.tools.pix_fmts" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of all the pixel formats available to ffmpeg.</p>
</dd></dl>

<dl class="attribute">
<dt id="ffpyplayer.tools.formats_in">
<code class="sig-prename descclassname">tools.</code><code class="sig-name descname">formats_in</code><em class="property"> = ['alsa', 'fbdev', 'iec61883', 'jack', 'kmsgrab', 'lavfi', 'libcdio', 'libdc1394', 'openal', 'oss', 'pulse', 'sndio', 'v4l2', 'video4linux2', 'x11grab']</em><a class="headerlink" href="#ffpyplayer.tools.formats_in" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of all the formats (e.g. file formats) available for reading.</p>
</dd></dl>

<dl class="attribute">
<dt id="ffpyplayer.tools.formats_out">
<code class="sig-prename descclassname">tools.</code><code class="sig-name descname">formats_out</code><em class="property"> = ['alsa', 'caca', 'fbdev', 'opengl', 'oss', 'pulse', 'sdl', 'sdl2', 'sndio', 'v4l2', 'xv']</em><a class="headerlink" href="#ffpyplayer.tools.formats_out" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of all the formats (e.g. file formats) available for writing.</p>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="pic.html" class="btn btn-neutral float-left" title="Images" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013, Matthew Einhorn

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>